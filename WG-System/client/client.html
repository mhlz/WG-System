<head>
	<title>Die beste WG ever</title>
</head>

<body>
	{{> loginArea}}
	{{#if currentUser}}
	<div class="top_left">
		<h1>Einkäufe</h1>
		{{> announceDialog}}
		{{> shoppingList}}
	</div>
	{{/if}}
</body>

<template name="announceDialog">
		<div class="dialog">
			Ich gehe <select class="select" size="1" id="timeSelect">
			<option>JETZT</option>
			<option>in 15 Minuten</option>
			<option>in 30 Minuten</option>
			<option>in 45 Minuten</option>
			<option>in 60 Minuten</option>
			<option>in 2 Stunden</option>
			<option>in 4 Stunden</option>
			<option>in 5 Stunden</option>
			<option>morgen</option>
			<option>übermorgen</option>
			<option>in 3 Tagen</option>
			<option>in 1 Woche</option>
		</select> zum <input class="text" id="nameOfPlace" type="text" placeholder="Name des Ladens...">.<br> Was soll ich mitbringen?<br>
		<input class="acceptAnnouncementButton button" type="button" value="Senden!">
	</div>
</template>

<template name="loginArea">
	<div style="float: right">
    	{{loginButtons align="right"}}
    </div>
</template>

<template name="shoppingList">
    {{#each shoppingTours}}
      {{> shoppingTour}}
    {{/each}}
</template>


<template name="shoppingTour">
	<div class="shoppingTour" id="shoppingTour_{{_id}}">
		{{user}} {{#if inFuture}}geht{{else}}ging{{/if}} <span class="updatingTime" data-tourId="{{_id}}" data-time="{{time}}">{{time}}</span> zu {{place}}. {{#if isDoneBy}}&nbsp;&nbsp;&nbsp;&nbsp;<input type="button" class="deleteShoppingAnnouncement button" value="Löschen">{{/if}}<br>
		<div id="list_shoppingTour_{{shoppingTourId}}" class="list">
			<ol>
			{{#each listItems}}
				{{> listItem}}
			{{/each}}
			{{#if showDots}}<li style="list-style: none"><a href="javascript://" class="showMore">...</a></li>{{/if}}
			{{#if showLessButton}}&nbsp;<a href="javascript://" class="showLess">^</a>{{/if}}
			<li value="{{getNewListNumber}}">...Ich hätte gerne <input id="addNewItemName_{{_id}}" class="addNewItemName text" type="text" placeholder="Etwas von {{place}}...">. Es kostet <input id="addNewItemPrice_{{_id}}" class="addNewItemPrice text" type="text" placeholder="...">.<br>
				<input data-shoppingTourId="{{_id}}" type="button" class="addNewItem button" value="Absenden"></li>
			</ol>
		</div>
	</div>
</template>

<template name="listItem">
	<li>{{itemName}} ({{itemPrice}}, gewünscht von {{orderedBy}}) {{#if isOrderedBy}}<input class="deleteShoppingItem button" type="button" value="Entfernen">{{/if}}
	</li>
</template>
